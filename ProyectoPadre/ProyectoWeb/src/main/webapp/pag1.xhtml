<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="resources/template.xhtml">

	<ui:define name="title">
     
      Inicio
     
     </ui:define>

	<ui:define name="content">

		<br></br>
		   
		<h:form id="form">
		
		<p:dataGrid var="producto" value="#{productoBean.listaProductos}" columns="3" layout="grid"
        rows="12" paginator="true" id="productos"
        paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
        rowsPerPageTemplate="6,12,16">
         
        <f:facet name="header">
           Lista de productos
        </f:facet>
 
        <p:panel header="#{producto.nombre}" style="text-align:center">
            <h:panelGrid columns="1" style="width:100%">
                <p:graphicImage value="#{producto.urlImagenes.get(0)}"  width="250" height="200"/>
 
                <h:outputText value="#{producto.precio}" />
 
                <p:commandLink update=":form:productoDetalles" oncomplete="PF('productoDialog').show()" title="Detalles">
                    <h:outputText styleClass="pi pi-search" style="margin:0 auto;"/>
                    <f:setPropertyActionListener value="#{producto}" target="#{productoBean.productoSeleccionado}" />
                </p:commandLink>
            </h:panelGrid>
        </p:panel>
 
    </p:dataGrid>
		
			<p:dialog header="Producto info" widgetVar="productoDialog"
				modal="true" showEffect="fade" hideEffect="fade" resizable="false">
				<p:outputPanel id="productoDetalles" style="text-align:center;">
					<p:panelGrid columns="2"
						rendered="#{not empty productoBean.productoSeleccionado}"
						columnClasses="label,value">
						
						
						<f:facet name="header">
							     <p:graphicImage value="#{producto.urlImagenes.get(0)}"  width="100" height="100"/>
						</f:facet>

						<h:outputText value="Nombre:" />
						<h:outputText value="#{productoBean.productoSeleccionado.nombre}" />

					</p:panelGrid>
				</p:outputPanel>
			</p:dialog>
		</h:form>

	</ui:define>


</ui:composition>
</html>
